{% extends 'baseAdmin.html.twig' %}


{% block title %}Importer un modèle{% endblock %}

{% block sideNavModels %}active{% endblock %}

{% block content %}

<div class="wrapper-card">
    <div class="card">
        <div class="card-header card-header-success header-flex mb-4">
            <div class="header-center">
                <h4 class="card-title text-center">Importez un nouveau modèle d'audit</h4>
                <p class="card-category"></p>
            </div>
        </div>
        <div class="card-body card-model">
            <h4 class="card-title text-center">Veuillez importer un fichier au format .csv afin de générer automatiquement un nouveau modèle d'audit.</h4>
            <p class="card-category text-center mb-4">Cliquer <a href="{{ path('admin-csvModel') }}" id="here">ici</a> pour télécharger un exemple de fichier csv au format attendu.</p>
            {{ form_start(form) }}
            <div class="error-center">
                {{ form_errors(form.file) }}
            </div>
            {{ form_widget(form) }}

            <div class="action-createCsv-btn">
                <input type="submit" class="btn btn-info" value="Importer">
            </div>

            {{ form_end(form) }}
        </div>
    </div>

</div>

    <div class="pagination">
        <a href="{{ app.request.headers.get('referer') }}" class="back-btn-text"><button class="btn btn-outline-secondary">Retour à liste de modèles d'audits</button></a>
    </div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script>

        $('.custom-file-input').on('change', function(event) {
            var inputFile = event.currentTarget;
            $(inputFile).parent()
                .find('.custom-file-label')
                .html(inputFile.files[0].name);
        });


    </script>
{% endblock %}
